<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.0">
    
    <meta name="description" content="Documentation for the Floxide framework - A type-safe, composable directed graph workflow system written in Rust"> 
    
    <meta name="author" content="Floxide Team"> 
    <link rel="icon" type="image/png" sizes="192x192" href="../../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../../img/favicon-32x32.png" />


    
 
<title>Actions - Floxide Documentation</title>


<link href="../../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../../css/normalize.css" rel="stylesheet">
<link href="../../css/terminal.css" rel="stylesheet">
<link href="../../css/theme.css" rel="stylesheet">
<link href="../../css/theme.tile_grid.css" rel="stylesheet">
<link href="../../css/theme.footer.css" rel="stylesheet">
<!-- dark color palette -->
<link href="../../css/palettes/dark.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 4fr 9fr;
    }
}</style>



    
    <link href="../../css/extra.css" rel="stylesheet">  
    
    

    
    <!-- search css support -->
<link href="../../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "../..",
    shortcuts = "{}";
</script>
<script src="../../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <script src="../../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="/" class="no-style">Floxide Documentation</a></div>
        </header>
        
        <nav class="terminal-menu">
            
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../.." class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Home</span>
                    </a>
                    <meta property="position" content="0">
                </li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../../contributing/" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Contributing</span>
                    </a>
                    <meta property="position" content="1">
                </li>
                
                    
                    


<li property="itemListElement" typeof="ListItem">
    <a href="#" class="menu-item" data-toggle="modal" data-target="#mkdocs_search_modal" property="item" typeof="SearchAction">
        <i aria-hidden="true" class="fa fa-search"></i> <span property="name">Search</span>
    </a>
    <meta property="position" content="2">
</li>
                    
            </ul>
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
    <ul class="terminal-mkdocs-side-nav-items">
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../..">Home</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        
            
            
            <span class="
        
    

    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index">Getting Started</span>
        
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../getting-started/installation/">Installation</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../getting-started/quick-start/">Quick Start</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../getting-started/error-handling/">Error Handling</a>
        
    
    </li>
            
            
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        <span class="
        
    

    terminal-mkdocs-side-nav-item--active terminal-mkdocs-side-nav-section-no-index">Core Concepts</span>
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../overview/">Overview</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../nodes/">Nodes</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../workflows/">Workflows</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        <span class="

    terminal-mkdocs-side-nav-item--active">Actions</span>
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../contexts/">Contexts</a>
        
    
    </li>
            
            
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        
            
            
            <span class="
        
    

    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index">Guides</span>
        
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../guides/event_driven_architecture/">Event-Driven Architecture</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../guides/using-mermaid-diagrams/">Using Mermaid Diagrams</a>
        
    
    </li>
            
            
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        
            
            
            <span class="
        
    

    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index">Examples</span>
        
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../examples/basic-workflow/">Basic Workflow</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../examples/event-driven-workflow/">Event-Driven Workflow</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../examples/timer-node/">Timer Node</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../examples/reactive-node/">Reactive Node</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../examples/transform-node/">Transform Node</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../examples/longrunning-node/">Long-Running Node</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../examples/batch-processing/">Batch Processing</a>
        
    
    </li>
            
            
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        
            
            
            <span class="
        
    

    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index">Architecture</span>
        
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/adr-process/">ADR Process</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/core-framework-abstractions/">Core Framework Abstractions</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/project-structure/">Project Structure</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/async-runtime-selection/">Async Runtime Selection</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/node-lifecycle-methods/">Node Lifecycle Methods</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/event-driven-workflow-pattern/">Event-Driven Workflow Pattern</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/reactive-node-implementation/">Reactive Node Implementation</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/timer-node-implementation/">Timer Node Implementation</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/longrunning-node-implementation/">Long-Running Node Implementation</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/transform-node-implementation/">Transform Node Implementation</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../architecture/batch-processing-implementation/">Batch Processing Implementation</a>
        
    
    </li>
            
            
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        
            
            
            <span class="
        
    

    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index">API Reference</span>
        
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../api/floxide-core/">floxide-core</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../api/floxide-transform/">floxide-transform</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../api/floxide-event/">floxide-event</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../api/floxide-timer/">floxide-timer</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../api/floxide-reactive/">floxide-reactive</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../api/floxide-longrunning/">floxide-longrunning</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../api/floxide-batch/">floxide-batch</a>
        
    
    </li>
            
            
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../contributing/">Contributing</a>
        
    
    
    
  </li>
        
    </ul>
  
</nav><hr>
<nav>
    <ul>
        <li><a href="#actions">Actions</a></li>
        <li><a href="#the-action-concept">The Action Concept</a></li><li><a href="#default-actions">Default Actions</a></li><li><a href="#custom-actions">Custom Actions</a></li><li><a href="#using-actions-in-workflows">Using Actions in Workflows</a></li><li><a href="#action-patterns">Action Patterns</a></li><li><a href="#best-practices">Best Practices</a></li><li><a href="#next-steps">Next Steps</a></li>
    </ul>
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
<section id="mkdocs-terminal-content">
    <h1 id="actions">Actions<a class="headerlink" href="#actions" title="Permanent link">&para;</a></h1>
<p>Actions in Floxide determine the flow of execution in a workflow. After a node completes its execution, it returns an action that indicates what should happen next. This page explains the different types of actions and how to use them to control workflow execution.</p>
<h2 id="the-action-concept">The Action Concept<a class="headerlink" href="#the-action-concept" title="Permanent link">&para;</a></h2>
<p>Actions are the mechanism by which nodes communicate their execution results and control the flow of a workflow. When a node completes its execution, it returns an action that the workflow uses to determine the next step.</p>
<p>In Floxide, actions are typically represented as enum variants, allowing for a clear and type-safe way to express different execution paths.</p>
<h2 id="default-actions">Default Actions<a class="headerlink" href="#default-actions" title="Permanent link">&para;</a></h2>
<p>Floxide provides a <code>DefaultAction</code> enum that covers the most common workflow control patterns:</p>
<div class="language-rust highlight"><pre><span></span><code><span id="__span-0-1"><span class="k">pub</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">DefaultAction</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-2"><span class="w">    </span><span class="n">Next</span><span class="p">,</span>
</span><span id="__span-0-3"><span class="w">    </span><span class="n">Stop</span><span class="p">,</span>
</span><span id="__span-0-4"><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><code>Next</code>: Continue to the next node in the workflow</li>
<li><code>Stop</code>: Stop the workflow execution</li>
</ul>
<p>Here's how to use the default actions:</p>
<div class="language-rust highlight"><pre><span></span><code><span id="__span-1-1"><span class="k">use</span><span class="w"> </span><span class="n">floxide_core</span><span class="p">::{</span><span class="n">lifecycle_node</span><span class="p">,</span><span class="w"> </span><span class="n">LifecycleNode</span><span class="p">,</span><span class="w"> </span><span class="n">Workflow</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultAction</span><span class="p">};</span>
</span><span id="__span-1-2">
</span><span id="__span-1-3"><span class="k">fn</span><span class="w"> </span><span class="nf">create_processor_node</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">impl</span><span class="w"> </span><span class="n">LifecycleNode</span><span class="o">&lt;</span><span class="n">MessageContext</span><span class="p">,</span><span class="w"> </span><span class="n">DefaultAction</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-4"><span class="w">    </span><span class="n">lifecycle_node</span><span class="p">(</span>
</span><span id="__span-1-5"><span class="w">        </span><span class="nb">Some</span><span class="p">(</span><span class="s">&quot;processor&quot;</span><span class="p">),</span>
</span><span id="__span-1-6"><span class="w">        </span><span class="o">|</span><span class="n">ctx</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">MessageContext</span><span class="o">|</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="k">move</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-7"><span class="w">            </span><span class="nb">Ok</span><span class="p">(</span><span class="n">ctx</span><span class="p">.</span><span class="n">input</span><span class="p">.</span><span class="n">clone</span><span class="p">())</span>
</span><span id="__span-1-8"><span class="w">        </span><span class="p">},</span>
</span><span id="__span-1-9"><span class="w">        </span><span class="o">|</span><span class="n">input</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="o">|</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="k">move</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-10"><span class="w">            </span><span class="nb">Ok</span><span class="p">(</span><span class="fm">format!</span><span class="p">(</span><span class="s">&quot;Processed: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p">))</span>
</span><span id="__span-1-11"><span class="w">        </span><span class="p">},</span>
</span><span id="__span-1-12"><span class="w">        </span><span class="o">|</span><span class="n">_prep</span><span class="p">,</span><span class="w"> </span><span class="n">exec_result</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">MessageContext</span><span class="o">|</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="k">move</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-13"><span class="w">            </span><span class="n">ctx</span><span class="p">.</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">exec_result</span><span class="p">);</span>
</span><span id="__span-1-14">
</span><span id="__span-1-15"><span class="w">            </span><span class="c1">// Continue to the next node</span>
</span><span id="__span-1-16"><span class="w">            </span><span class="nb">Ok</span><span class="p">(</span><span class="n">DefaultAction</span><span class="p">::</span><span class="n">Next</span><span class="p">)</span>
</span><span id="__span-1-17">
</span><span id="__span-1-18"><span class="w">            </span><span class="c1">// Or stop the workflow</span>
</span><span id="__span-1-19"><span class="w">            </span><span class="c1">// Ok(DefaultAction::Stop)</span>
</span><span id="__span-1-20"><span class="w">        </span><span class="p">},</span>
</span><span id="__span-1-21"><span class="w">    </span><span class="p">)</span>
</span><span id="__span-1-22"><span class="p">}</span>
</span></code></pre></div>
<h2 id="custom-actions">Custom Actions<a class="headerlink" href="#custom-actions" title="Permanent link">&para;</a></h2>
<p>For more complex workflows, you can define custom actions using enums:</p>
<div class="language-rust highlight"><pre><span></span><code><span id="__span-2-1"><span class="cp">#[derive(Debug, Clone, PartialEq, Eq)]</span>
</span><span id="__span-2-2"><span class="k">pub</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">OrderAction</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-3"><span class="w">    </span><span class="n">Approve</span><span class="p">,</span>
</span><span id="__span-2-4"><span class="w">    </span><span class="n">Reject</span><span class="p">,</span>
</span><span id="__span-2-5"><span class="w">    </span><span class="n">Review</span><span class="p">,</span>
</span><span id="__span-2-6"><span class="w">    </span><span class="n">Error</span><span class="p">,</span>
</span><span id="__span-2-7"><span class="p">}</span>
</span><span id="__span-2-8">
</span><span id="__span-2-9"><span class="k">fn</span><span class="w"> </span><span class="nf">create_validation_node</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">impl</span><span class="w"> </span><span class="n">LifecycleNode</span><span class="o">&lt;</span><span class="n">OrderContext</span><span class="p">,</span><span class="w"> </span><span class="n">OrderAction</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-10"><span class="w">    </span><span class="n">lifecycle_node</span><span class="p">(</span>
</span><span id="__span-2-11"><span class="w">        </span><span class="nb">Some</span><span class="p">(</span><span class="s">&quot;validator&quot;</span><span class="p">),</span>
</span><span id="__span-2-12"><span class="w">        </span><span class="o">|</span><span class="n">ctx</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">OrderContext</span><span class="o">|</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="k">move</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-13"><span class="w">            </span><span class="nb">Ok</span><span class="p">(</span><span class="n">ctx</span><span class="p">.</span><span class="n">order</span><span class="p">.</span><span class="n">clone</span><span class="p">())</span>
</span><span id="__span-2-14"><span class="w">        </span><span class="p">},</span>
</span><span id="__span-2-15"><span class="w">        </span><span class="o">|</span><span class="n">order</span><span class="p">:</span><span class="w"> </span><span class="nc">Order</span><span class="o">|</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="k">move</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-16"><span class="w">            </span><span class="c1">// Validate the order</span>
</span><span id="__span-2-17"><span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">validation_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validate_order</span><span class="p">(</span><span class="o">&amp;</span><span class="n">order</span><span class="p">);</span>
</span><span id="__span-2-18"><span class="w">            </span><span class="nb">Ok</span><span class="p">(</span><span class="n">validation_result</span><span class="p">)</span>
</span><span id="__span-2-19"><span class="w">        </span><span class="p">},</span>
</span><span id="__span-2-20"><span class="w">        </span><span class="o">|</span><span class="n">_prep</span><span class="p">,</span><span class="w"> </span><span class="n">validation_result</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">OrderContext</span><span class="o">|</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="k">move</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-21"><span class="w">            </span><span class="k">match</span><span class="w"> </span><span class="n">validation_result</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-22"><span class="w">                </span><span class="n">ValidationResult</span><span class="p">::</span><span class="n">Valid</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Ok</span><span class="p">(</span><span class="n">OrderAction</span><span class="p">::</span><span class="n">Approve</span><span class="p">),</span>
</span><span id="__span-2-23"><span class="w">                </span><span class="n">ValidationResult</span><span class="p">::</span><span class="n">Invalid</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Ok</span><span class="p">(</span><span class="n">OrderAction</span><span class="p">::</span><span class="n">Reject</span><span class="p">),</span>
</span><span id="__span-2-24"><span class="w">                </span><span class="n">ValidationResult</span><span class="p">::</span><span class="n">NeedsReview</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Ok</span><span class="p">(</span><span class="n">OrderAction</span><span class="p">::</span><span class="n">Review</span><span class="p">),</span>
</span><span id="__span-2-25"><span class="w">                </span><span class="n">ValidationResult</span><span class="p">::</span><span class="n">Error</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Ok</span><span class="p">(</span><span class="n">OrderAction</span><span class="p">::</span><span class="n">Error</span><span class="p">),</span>
</span><span id="__span-2-26"><span class="w">            </span><span class="p">}</span>
</span><span id="__span-2-27"><span class="w">        </span><span class="p">},</span>
</span><span id="__span-2-28"><span class="w">    </span><span class="p">)</span>
</span><span id="__span-2-29"><span class="p">}</span>
</span></code></pre></div>
<h2 id="using-actions-in-workflows">Using Actions in Workflows<a class="headerlink" href="#using-actions-in-workflows" title="Permanent link">&para;</a></h2>
<p>Actions are used to control the flow of execution in a workflow. You can use the <code>on</code> method to specify which node to execute for each action:</p>
<div class="language-rust highlight"><pre><span></span><code><span id="__span-3-1"><span class="kd">let</span><span class="w"> </span><span class="n">validation_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_validation_node</span><span class="p">());</span>
</span><span id="__span-3-2"><span class="kd">let</span><span class="w"> </span><span class="n">approval_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_approval_node</span><span class="p">());</span>
</span><span id="__span-3-3"><span class="kd">let</span><span class="w"> </span><span class="n">rejection_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_rejection_node</span><span class="p">());</span>
</span><span id="__span-3-4"><span class="kd">let</span><span class="w"> </span><span class="n">review_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_review_node</span><span class="p">());</span>
</span><span id="__span-3-5"><span class="kd">let</span><span class="w"> </span><span class="n">error_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_error_node</span><span class="p">());</span>
</span><span id="__span-3-6">
</span><span id="__span-3-7"><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">workflow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Workflow</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">validation_node</span><span class="p">)</span>
</span><span id="__span-3-8"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderAction</span><span class="p">::</span><span class="n">Approve</span><span class="p">,</span><span class="w"> </span><span class="n">approval_node</span><span class="p">)</span>
</span><span id="__span-3-9"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderAction</span><span class="p">::</span><span class="n">Reject</span><span class="p">,</span><span class="w"> </span><span class="n">rejection_node</span><span class="p">)</span>
</span><span id="__span-3-10"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderAction</span><span class="p">::</span><span class="n">Review</span><span class="p">,</span><span class="w"> </span><span class="n">review_node</span><span class="p">)</span>
</span><span id="__span-3-11"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderAction</span><span class="p">::</span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">error_node</span><span class="p">);</span>
</span></code></pre></div>
<p>This creates a workflow that executes different nodes based on the action returned by the validation node.</p>
<h2 id="action-patterns">Action Patterns<a class="headerlink" href="#action-patterns" title="Permanent link">&para;</a></h2>
<h3 id="linear-flow">Linear Flow<a class="headerlink" href="#linear-flow" title="Permanent link">&para;</a></h3>
<p>The simplest action pattern is a linear flow, where each node returns <code>DefaultAction::Next</code> to continue to the next node:</p>
<div class="language-rust highlight"><pre><span></span><code><span id="__span-4-1"><span class="kd">let</span><span class="w"> </span><span class="n">node1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_node1</span><span class="p">());</span>
</span><span id="__span-4-2"><span class="kd">let</span><span class="w"> </span><span class="n">node2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_node2</span><span class="p">());</span>
</span><span id="__span-4-3"><span class="kd">let</span><span class="w"> </span><span class="n">node3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_node3</span><span class="p">());</span>
</span><span id="__span-4-4">
</span><span id="__span-4-5"><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">workflow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Workflow</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">node1</span><span class="p">)</span>
</span><span id="__span-4-6"><span class="w">    </span><span class="p">.</span><span class="n">then</span><span class="p">(</span><span class="n">node2</span><span class="p">)</span>
</span><span id="__span-4-7"><span class="w">    </span><span class="p">.</span><span class="n">then</span><span class="p">(</span><span class="n">node3</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="conditional-branching">Conditional Branching<a class="headerlink" href="#conditional-branching" title="Permanent link">&para;</a></h3>
<p>Actions enable conditional branching, where the execution path depends on the result of a node:</p>
<div class="language-rust highlight"><pre><span></span><code><span id="__span-5-1"><span class="k">enum</span><span class="w"> </span><span class="nc">PaymentAction</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-2"><span class="w">    </span><span class="n">Success</span><span class="p">,</span>
</span><span id="__span-5-3"><span class="w">    </span><span class="n">Failure</span><span class="p">,</span>
</span><span id="__span-5-4"><span class="w">    </span><span class="n">Pending</span><span class="p">,</span>
</span><span id="__span-5-5"><span class="p">}</span>
</span><span id="__span-5-6">
</span><span id="__span-5-7"><span class="kd">let</span><span class="w"> </span><span class="n">payment_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_payment_node</span><span class="p">());</span>
</span><span id="__span-5-8"><span class="kd">let</span><span class="w"> </span><span class="n">success_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_success_node</span><span class="p">());</span>
</span><span id="__span-5-9"><span class="kd">let</span><span class="w"> </span><span class="n">failure_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_failure_node</span><span class="p">());</span>
</span><span id="__span-5-10"><span class="kd">let</span><span class="w"> </span><span class="n">pending_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_pending_node</span><span class="p">());</span>
</span><span id="__span-5-11">
</span><span id="__span-5-12"><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">workflow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Workflow</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">payment_node</span><span class="p">)</span>
</span><span id="__span-5-13"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">PaymentAction</span><span class="p">::</span><span class="n">Success</span><span class="p">,</span><span class="w"> </span><span class="n">success_node</span><span class="p">)</span>
</span><span id="__span-5-14"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">PaymentAction</span><span class="p">::</span><span class="n">Failure</span><span class="p">,</span><span class="w"> </span><span class="n">failure_node</span><span class="p">)</span>
</span><span id="__span-5-15"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">PaymentAction</span><span class="p">::</span><span class="n">Pending</span><span class="p">,</span><span class="w"> </span><span class="n">pending_node</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h3>
<p>Actions can be used to implement error handling patterns:</p>
<div class="language-rust highlight"><pre><span></span><code><span id="__span-6-1"><span class="k">enum</span><span class="w"> </span><span class="nc">ProcessAction</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-2"><span class="w">    </span><span class="n">Success</span><span class="p">,</span>
</span><span id="__span-6-3"><span class="w">    </span><span class="n">Error</span><span class="p">,</span>
</span><span id="__span-6-4"><span class="w">    </span><span class="n">Retry</span><span class="p">,</span>
</span><span id="__span-6-5"><span class="p">}</span>
</span><span id="__span-6-6">
</span><span id="__span-6-7"><span class="kd">let</span><span class="w"> </span><span class="n">process_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_process_node</span><span class="p">());</span>
</span><span id="__span-6-8"><span class="kd">let</span><span class="w"> </span><span class="n">success_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_success_node</span><span class="p">());</span>
</span><span id="__span-6-9"><span class="kd">let</span><span class="w"> </span><span class="n">error_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_error_node</span><span class="p">());</span>
</span><span id="__span-6-10"><span class="kd">let</span><span class="w"> </span><span class="n">retry_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_retry_node</span><span class="p">());</span>
</span><span id="__span-6-11">
</span><span id="__span-6-12"><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">workflow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Workflow</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">process_node</span><span class="p">)</span>
</span><span id="__span-6-13"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">ProcessAction</span><span class="p">::</span><span class="n">Success</span><span class="p">,</span><span class="w"> </span><span class="n">success_node</span><span class="p">)</span>
</span><span id="__span-6-14"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">ProcessAction</span><span class="p">::</span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">error_node</span><span class="p">)</span>
</span><span id="__span-6-15"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">ProcessAction</span><span class="p">::</span><span class="n">Retry</span><span class="p">,</span><span class="w"> </span><span class="n">retry_node</span><span class="p">);</span>
</span></code></pre></div>
<h3 id="state-machine">State Machine<a class="headerlink" href="#state-machine" title="Permanent link">&para;</a></h3>
<p>Actions can be used to implement a state machine, where each node represents a state and actions represent transitions:</p>
<div class="language-rust highlight"><pre><span></span><code><span id="__span-7-1"><span class="k">enum</span><span class="w"> </span><span class="nc">OrderState</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-2"><span class="w">    </span><span class="n">Created</span><span class="p">,</span>
</span><span id="__span-7-3"><span class="w">    </span><span class="n">Validated</span><span class="p">,</span>
</span><span id="__span-7-4"><span class="w">    </span><span class="n">Paid</span><span class="p">,</span>
</span><span id="__span-7-5"><span class="w">    </span><span class="n">Shipped</span><span class="p">,</span>
</span><span id="__span-7-6"><span class="w">    </span><span class="n">Delivered</span><span class="p">,</span>
</span><span id="__span-7-7"><span class="w">    </span><span class="n">Cancelled</span><span class="p">,</span>
</span><span id="__span-7-8"><span class="p">}</span>
</span><span id="__span-7-9">
</span><span id="__span-7-10"><span class="kd">let</span><span class="w"> </span><span class="n">created_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_created_node</span><span class="p">());</span>
</span><span id="__span-7-11"><span class="kd">let</span><span class="w"> </span><span class="n">validated_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_validated_node</span><span class="p">());</span>
</span><span id="__span-7-12"><span class="kd">let</span><span class="w"> </span><span class="n">paid_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_paid_node</span><span class="p">());</span>
</span><span id="__span-7-13"><span class="kd">let</span><span class="w"> </span><span class="n">shipped_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_shipped_node</span><span class="p">());</span>
</span><span id="__span-7-14"><span class="kd">let</span><span class="w"> </span><span class="n">delivered_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_delivered_node</span><span class="p">());</span>
</span><span id="__span-7-15"><span class="kd">let</span><span class="w"> </span><span class="n">cancelled_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arc</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">create_cancelled_node</span><span class="p">());</span>
</span><span id="__span-7-16">
</span><span id="__span-7-17"><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">workflow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Workflow</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="n">created_node</span><span class="p">)</span>
</span><span id="__span-7-18"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderState</span><span class="p">::</span><span class="n">Validated</span><span class="p">,</span><span class="w"> </span><span class="n">validated_node</span><span class="p">)</span>
</span><span id="__span-7-19"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderState</span><span class="p">::</span><span class="n">Paid</span><span class="p">,</span><span class="w"> </span><span class="n">paid_node</span><span class="p">)</span>
</span><span id="__span-7-20"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderState</span><span class="p">::</span><span class="n">Shipped</span><span class="p">,</span><span class="w"> </span><span class="n">shipped_node</span><span class="p">)</span>
</span><span id="__span-7-21"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderState</span><span class="p">::</span><span class="n">Delivered</span><span class="p">,</span><span class="w"> </span><span class="n">delivered_node</span><span class="p">)</span>
</span><span id="__span-7-22"><span class="w">    </span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="n">OrderState</span><span class="p">::</span><span class="n">Cancelled</span><span class="p">,</span><span class="w"> </span><span class="n">cancelled_node</span><span class="p">);</span>
</span></code></pre></div>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<p>When using actions, consider the following best practices:</p>
<ol>
<li><strong>Keep actions focused</strong>: Each action should have a clear meaning and purpose.</li>
<li><strong>Use descriptive names</strong>: Choose action names that clearly communicate their intent.</li>
<li><strong>Consider all possible paths</strong>: Ensure that all possible actions are handled in your workflow.</li>
<li><strong>Leverage type safety</strong>: Use Rust's type system to ensure that actions are used correctly.</li>
<li><strong>Document actions</strong>: Clearly document what each action means and when it should be used.</li>
</ol>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>Now that you understand actions, you can learn about:</p>
<ul>
<li><a href="../contexts/">Contexts</a>: How to define and use contexts in your workflows</li>
<li><a href="../nodes/">Nodes</a>: Learn more about the different types of nodes</li>
<li><a href="../workflows/">Workflows</a>: How to compose nodes into workflows</li>
</ul>
</section>

            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>